<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å•†åœˆè°ƒç ”PDFå¯¼å‡ºåŠŸèƒ½æµ‹è¯•</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .test-header {
            background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 30px;
        }
        .test-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #4CAF50;
        }
        .test-button {
            background: #4CAF50;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
            transition: background 0.3s;
        }
        .test-button:hover {
            background: #45a049;
        }
        .test-result {
            background: #e8f5e8;
            border: 1px solid #4CAF50;
            padding: 15px;
            border-radius: 6px;
            margin-top: 15px;
        }
        .error {
            background: #ffebee;
            border: 1px solid #f44336;
            color: #d32f2f;
        }
        .success {
            background: #e8f5e8;
            border: 1px solid #4CAF50;
            color: #2e7d32;
        }
        .code {
            background: #f5f5f5;
            padding: 10px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="test-header">
        <h1>ğŸ”§ å•†åœˆè°ƒç ”PDFå¯¼å‡ºåŠŸèƒ½æµ‹è¯•</h1>
        <p>éªŒè¯ä¿®å¤åçš„PDFå¯¼å‡ºåŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œ</p>
    </div>

    <div class="test-section">
        <h2>ğŸ“‹ æµ‹è¯•è¯´æ˜</h2>
        <p>æœ¬é¡µé¢ç”¨äºæµ‹è¯•å•†åœˆè°ƒç ”åˆ†ææ¨¡å—çš„PDFå¯¼å‡ºåŠŸèƒ½ä¿®å¤æ•ˆæœã€‚</p>
        <p><strong>ä¿®å¤å†…å®¹ï¼š</strong></p>
        <ul>
            <li>âœ… ä½¿ç”¨ä¸å“ç‰Œåˆ†ææ¨¡å—ç›¸åŒçš„å…ˆè¿›PDFå¯¼å‡ºæŠ€æœ¯</li>
            <li>âœ… æ”¯æŒå¯å˜é«˜åº¦PDFå¯¼å‡º</li>
            <li>âœ… å®Œç¾çš„æ ·å¼ä¿æŒ</li>
            <li>âœ… æ™ºèƒ½ç¼©æ”¾ç®—æ³•</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>ğŸ§ª æµ‹è¯•æ­¥éª¤</h2>
        <ol>
            <li>ç‚¹å‡»ä¸‹æ–¹"æ‰“å¼€ä¸»åº”ç”¨"æŒ‰é’®</li>
            <li>åœ¨å³ä¾§å•†åœˆè°ƒç ”åˆ†ææ¨¡å—å¡«å†™æµ‹è¯•ä¿¡æ¯</li>
            <li>ç”Ÿæˆå•†åœˆåˆ†ææŠ¥å‘Š</li>
            <li>ç‚¹å‡»"ä¸‹è½½PDF"æŒ‰é’®</li>
            <li>éªŒè¯PDFæ•ˆæœæ˜¯å¦ç¬¦åˆé¢„æœŸ</li>
        </ol>
        
        <button class="test-button" onclick="openMainApp()">ğŸš€ æ‰“å¼€ä¸»åº”ç”¨</button>
        <button class="test-button" onclick="runEnvironmentCheck()">ğŸ” æ£€æŸ¥ç¯å¢ƒ</button>
    </div>

    <div class="test-section">
        <h2>âœ… é¢„æœŸæ•ˆæœ</h2>
        <div class="test-result success">
            <h3>ä¿®å¤ååº”è¯¥çœ‹åˆ°ï¼š</h3>
            <ul>
                <li>âœ… PDFé¡µé¢é«˜åº¦è‡ªé€‚åº”å†…å®¹é•¿åº¦</li>
                <li>âœ… æ‰€æœ‰å†…å®¹å®Œæ•´æ˜¾ç¤ºï¼Œæ— è£å‰ª</li>
                <li>âœ… æ ·å¼ä¸ç½‘é¡µæ˜¾ç¤ºå®Œå…¨ä¸€è‡´</li>
                <li>âœ… ä¸å“ç‰Œåˆ†ææ¨¡å—PDFæ•ˆæœä¸€è‡´</li>
                <li>âœ… æ–‡ä»¶ååŒ…å«å•†åœˆåç§°å’Œæ—¥æœŸ</li>
            </ul>
        </div>
    </div>

    <div class="test-section">
        <h2>ğŸ“Š æŠ€æœ¯å¯¹æ¯”</h2>
        <table style="width: 100%; border-collapse: collapse; margin: 15px 0;">
            <tr style="background: #f0f0f0;">
                <th style="padding: 10px; border: 1px solid #ddd;">ç‰¹æ€§</th>
                <th style="padding: 10px; border: 1px solid #ddd;">ä¿®å¤å‰ âŒ</th>
                <th style="padding: 10px; border: 1px solid #ddd;">ä¿®å¤å âœ…</th>
            </tr>
            <tr>
                <td style="padding: 10px; border: 1px solid #ddd;">PDFæ ¼å¼</td>
                <td style="padding: 10px; border: 1px solid #ddd;">å›ºå®šA4</td>
                <td style="padding: 10px; border: 1px solid #ddd;"><strong>å¯å˜é«˜åº¦</strong></td>
            </tr>
            <tr>
                <td style="padding: 10px; border: 1px solid #ddd;">æ ·å¼ä¿æŒ</td>
                <td style="padding: 10px; border: 1px solid #ddd;">éƒ¨åˆ†ä¸¢å¤±</td>
                <td style="padding: 10px; border: 1px solid #ddd;"><strong>100%ä¿æŒ</strong></td>
            </tr>
            <tr>
                <td style="padding: 10px; border: 1px solid #ddd;">å†…å®¹å®Œæ•´æ€§</td>
                <td style="padding: 10px; border: 1px solid #ddd;">å¯èƒ½è£å‰ª</td>
                <td style="padding: 10px; border: 1px solid #ddd;"><strong>å®Œæ•´æ˜¾ç¤º</strong></td>
            </tr>
            <tr>
                <td style="padding: 10px; border: 1px solid #ddd;">æŠ€æœ¯ä¸€è‡´æ€§</td>
                <td style="padding: 10px; border: 1px solid #ddd;">ä¸ä¸€è‡´</td>
                <td style="padding: 10px; border: 1px solid #ddd;"><strong>å®Œå…¨ä¸€è‡´</strong></td>
            </tr>
        </table>
    </div>

    <div class="test-section">
        <h2>ğŸ”§ ä¿®å¤è¯¦æƒ…</h2>
        <p><strong>ä¸»è¦ä¿®æ”¹æ–‡ä»¶ï¼š</strong></p>
        <div class="code">
            html-img-pdf/brand-analysis-app/js/market-app.js
            html-img-pdf/brand-analysis-app/css/market-analysis.css
        </div>
        
        <p><strong>æ ¸å¿ƒä¿®å¤ï¼š</strong></p>
        <div class="code">
// ä¿®å¤å‰ï¼šä½¿ç”¨åŸºç¡€PDFå¯¼å‡ºå™¨
this.pdfExporter = new MarketPDFExporter();

// ä¿®å¤åï¼šä½¿ç”¨å…ˆè¿›çš„PDFå¯¼å‡ºå™¨
this.pdfExporter = new HtmlToImagePDFExporter();
this.pdfExportMethod = 'html-to-image-advanced';
        </div>
    </div>

    <div id="test-results" class="test-section" style="display: none;">
        <h2>ğŸ§ª æµ‹è¯•ç»“æœ</h2>
        <div id="result-content"></div>
    </div>

    <script>
        function openMainApp() {
            // æ‰“å¼€ä¸»åº”ç”¨
            window.open('brand-analysis-app/index.html', '_blank');
            
            // æ˜¾ç¤ºæç¤º
            showResult('ä¸»åº”ç”¨å·²åœ¨æ–°çª—å£æ‰“å¼€ã€‚è¯·æŒ‰ç…§æµ‹è¯•æ­¥éª¤è¿›è¡ŒéªŒè¯ã€‚', 'success');
        }

        function runEnvironmentCheck() {
            const results = [];
            
            // æ£€æŸ¥æ˜¯å¦åœ¨æ­£ç¡®çš„ç›®å½•ç»“æ„ä¸­
            const currentPath = window.location.pathname;
            if (currentPath.includes('html-img-pdf')) {
                results.push('âœ… ç›®å½•ç»“æ„æ­£ç¡®');
            } else {
                results.push('âŒ è¯·ç¡®ä¿åœ¨html-img-pdfç›®å½•ä¸­è¿è¡Œ');
            }
            
            // æ£€æŸ¥ä¸»åº”ç”¨æ–‡ä»¶æ˜¯å¦å­˜åœ¨
            fetch('brand-analysis-app/index.html')
                .then(response => {
                    if (response.ok) {
                        results.push('âœ… ä¸»åº”ç”¨æ–‡ä»¶å­˜åœ¨');
                    } else {
                        results.push('âŒ ä¸»åº”ç”¨æ–‡ä»¶ä¸å­˜åœ¨');
                    }
                    
                    showResult(results.join('<br>'), results.some(r => r.includes('âŒ')) ? 'error' : 'success');
                })
                .catch(error => {
                    results.push('âŒ æ— æ³•è®¿é—®ä¸»åº”ç”¨æ–‡ä»¶');
                    showResult(results.join('<br>'), 'error');
                });
        }

        function showResult(message, type) {
            const resultsDiv = document.getElementById('test-results');
            const contentDiv = document.getElementById('result-content');
            
            contentDiv.innerHTML = `<div class="test-result ${type}">${message}</div>`;
            resultsDiv.style.display = 'block';
            
            // æ»šåŠ¨åˆ°ç»“æœåŒºåŸŸ
            resultsDiv.scrollIntoView({ behavior: 'smooth' });
        }

        // é¡µé¢åŠ è½½å®Œæˆåæ˜¾ç¤ºæ¬¢è¿ä¿¡æ¯
        window.addEventListener('load', function() {
            console.log('ğŸ”§ å•†åœˆè°ƒç ”PDFå¯¼å‡ºåŠŸèƒ½æµ‹è¯•é¡µé¢å·²åŠ è½½');
            console.log('ğŸ“‹ è¯·æŒ‰ç…§é¡µé¢è¯´æ˜è¿›è¡Œæµ‹è¯•éªŒè¯');
        });
    </script>
</body>
</html>
